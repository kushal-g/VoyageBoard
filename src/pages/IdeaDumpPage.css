.canvas-header {
  padding-top: calc(env(safe-area-inset-top, 0px) + 8px);
  background: #ffffff;
  border-bottom: 1px solid #e5e5e5;
  display: flex;
  align-items: center;
}
.canvas-title-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
}
.canvas-title-block { line-height: 1.2; }
.canvas-title { font-size: 18px; font-weight: 600; color: #000; }
.canvas-subtitle { margin-top: 2px; font-size: 13px; font-weight: 400; color: #6c6c6c; }

.canvas-content { --padding-top: 0; background: #ffffff; }

.right-actions { display: flex; gap: 10px; }
.process-pill {
  --background: #ffffff;
  --border-radius: 9999px;
  --box-shadow: 0 2px 12px rgba(0,0,0,.08);
  --padding-start: 14px;
  --padding-end: 14px;
  height: 34px;
  font-size: 13px;
  font-weight: 600;
}
.circle-btn {
  --background: #ffffff;
  --box-shadow: 0 2px 12px rgba(0,0,0,.08);
  width: 34px;
  height: 34px;
  border-radius: 50%;
}

.id-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(280px, 1fr));
  grid-auto-rows: 200px;
  gap: 28px 28px;
  max-width: 1024px;
  margin: 24px auto 40px;
  padding: 0 24px;
}
.id-card {
  position: relative;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 10px 24px rgba(0,0,0,.12);
  background: #111;
}
.id-thumb { position: absolute; inset: 0; background-size: cover; background-position: center; }
.id-gradient { position: absolute; left: 0; right: 0; bottom: 0; height: 40%; background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.75) 100%); }
.id-meta { position: absolute; left: 14px; right: 14px; bottom: 12px; color: #fff; display: flex; flex-direction: column; gap: 4px; }
.id-title-text { font-weight: 700; font-size: 16px; text-shadow: 0 2px 6px rgba(0,0,0,.5); }
.id-platform { font-size: 12px; opacity: .9; }

.id-unprocessed { position: absolute; inset: 0; background: #1c1c1e; display: flex; align-items: flex-end; justify-content: stretch; }
.id-unprocessed .id-meta { position: absolute; left: 14px; right: 14px; bottom: 12px; }
.id-play { position: absolute; left: 24px; top: 24px; width: 72px; height: 72px; color: rgba(255,255,255,.75); filter: drop-shadow(0 4px 14px rgba(0,0,0,.4)); }

.id-pop { --backdrop-opacity: 0; --max-height: none; overflow: visible; }
.id-pop.small .id-pop-inner { width: 240px; }
.id-pop-inner { width: 340px; padding: 12px; background: rgba(246, 248, 255, 0.9); backdrop-filter: blur(10px); border-radius: 16px; box-shadow: 0 12px 28px rgba(0,0,0,.15); display: flex; flex-direction: column; gap: 8px; overflow: visible; max-height: unset; }
.id-pop-inner.mini { padding: 10px; }

.id-input { display: grid; grid-template-columns: 20px 1fr auto; align-items: center; gap: 10px; background: rgba(255,255,255,.92); border-radius: 14px; padding: 10px 12px; margin: 4px; color: #6c6c6c; min-height: 44px; box-sizing: border-box; }
.id-upload { display: grid; grid-template-columns: 20px 1fr; align-items: center; gap: 10px; background: rgba(92, 123, 255, .15); border-radius: 14px; padding: 10px 12px; margin: 8px 4px 4px; cursor: pointer; min-height: 44px; box-sizing: border-box; }
.id-upload span { font-size: 12px; color: #6b7cff; }
.id-upload input { display: none; }

@media (max-width: 1024px) { .id-grid { grid-template-columns: repeat(2, minmax(260px, 1fr)); } }
@media (max-width: 640px) { .id-grid { grid-template-columns: 1fr; } }